<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rules of the Road March Madness</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
<style>
    :root {
        --primary: #003B4F;
        --accent: #E8B00F;
        --bg: #FFFFFF;
        --light-gray: #F5F5F5;
        --border: #bbbbbb;
    }
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    body {
        font-family: 'Roboto Condensed', sans-serif;
        background: var(--light-gray);
        min-height: 100vh;
        /* REDUCED PADDING */
        padding: 1rem;
    }
    .container {
        max-width: 100%;
        margin: 0 auto;
        background: var(--bg);
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 59, 79, 0.15);
        /* REDUCED PADDING */
        padding: 1.5rem;
    }
    header {
        text-align: center;
        margin-bottom: 2rem;
    }
    h1 {
        font-family: 'Oswald', sans-serif;
        font-size: 4.0rem;
        color: var(--primary);
        letter-spacing: 2px;
        text-transform: uppercase;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }
    .subtitle {
        font-size: 2.5rem;
        color: var(--primary);
        font-weight: 700;
    }
    .controls {
        display: flex;
        gap: 1rem;
        justify-content: center;
        margin-bottom: 2rem;
        flex-wrap: wrap;
    }
    .zoom-controls {
        display: flex;
        gap: 0.5rem;
        align-items: center;
    }
    .zoom-controls span {
        font-weight: 600;
        color: var(--primary);
        min-width: 60px;
        text-align: center;
    }
    button {
        font-family: 'Roboto Condensed', sans-serif;
        font-weight: 700;
        font-size: 0.95rem;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .btn-primary { background: var(--primary); color: white; }
    .btn-primary:hover { background: #005266; transform: translateY(-2px); }
    .btn-secondary { background: var(--accent); color: var(--primary); }
    .btn-secondary:hover { background: #D4A20D; transform: translateY(-2px); }
    .btn-accent { background: white; color: var(--primary); border: 2px solid var(--primary); }
    .btn-accent:hover { background: var(--primary); color: white; }
    .bracket-scroll {
        overflow: auto;
        padding: 1rem 0; /* Reduced top/bottom padding for the scroller */
        position: relative;
        overscroll-behavior-inline: contain;
        scroll-padding-inline: 24px;
    }
    .bracket-container {
        transform-origin: top left;
        transition: transform 0.2s ease;
        display: inline-block;
        min-width: auto;
    }
    .bracket {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 60px;
        min-width: max-content;
    }
    .bracket-half { display: flex; gap: 60px; }
    .bracket-half.left { flex-direction: row; }
    .bracket-half.right { flex-direction: row-reverse; }
    .finals-column { display: flex; flex-direction: column; justify-content: center; align-items: center; }
    .round { display: flex; flex-direction: column; justify-content: space-around; }
    .round-header {
        font-family: 'Oswald', sans-serif;
        font-size: 1.3rem;
        color: var(--primary);
        font-weight: 600;
        margin-bottom: 1.5rem;
        letter-spacing: 1px;
    }
    .bracket-half.left .round-header { text-align: right; }
    .bracket-half.right .round-header { text-align: left; }
    .round-matches { display: flex; flex-direction: column; justify-content: space-around; flex: 1; }
    .match { position: relative; }
    .round1 .match { margin: 10px 0; }
    .round2 .match { margin: 54px 0; }
    .round3 .match { margin: 142px 0; }
    .round4 .match { margin: 318px 0; }
    .round5 .match { margin: 670px 0; }
    .round6 .match { margin: 0; }
    .match-line { position: relative; }
    .team {
        background: white;
        border: 2px solid var(--border);
        padding: 10px 15px;
        min-width: 200px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 600;
        font-size: 1.1rem;
        position: relative;
        z-index: 1; /* Keeps team names on top of lines */
    }
    .team:first-child { border-bottom: 1px solid var(--border); border-radius: 4px 4px 0 0; }
    .team:last-child { border-top: 1px solid var(--border); border-radius: 0 0 4px 4px; }
    .bracket-half.left .team:hover { transform: translateX(3px); }
    .bracket-half.right .team:hover { transform: translateX(-3px); }
    .team.winner { background: var(--primary); color: white; border-color: var(--primary); font-weight: 700; }
    .team.loser { background: var(--light-gray); color: #999; opacity: 0.6; }
    .team.highlighted { background: var(--accent); color: var(--primary); border-color: var(--accent); font-weight: 700; }
    .seed { display: none; }
    .winner .seed { background: var(--accent); color: var(--primary); }
    .champion-display { text-align: center; margin-top: 3rem; padding: 2rem; background: var(--primary); border: 4px solid var(--accent); border-radius: 8px; display: none; }
    .champion-display.show { display: block; animation: slideIn 0.5s ease; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
    .champion-display h2 { font-family: 'Oswald', sans-serif; font-size: 2.5rem; color: var(--accent); margin-bottom: 1rem; font-weight: 700; letter-spacing: 2px; }
    .champion-name { font-size: 2rem; font-weight: 700; color: white; }
    
    /* === CORRECTED BRACKET CONNECTOR LINES === */
    .match::before, .match::after { content: ''; position: absolute; background: var(--primary); }
    .match::after { top: 50%; transform: translateY(-50%); width: 30px; height: 2px; }
    .round-matches .match:nth-of-type(2n-1)::before { top: 50%; width: 2px; }
    .round-matches .match:nth-of-type(2n)::before { display: none; }
    .bracket-half.left .match::after { left: 100%; }
    .bracket-half.left .round-matches .match:nth-of-type(2n-1)::before { left: calc(100% + 30px); }
    .bracket-half.right .match::after { right: 100%; }
    .bracket-half.right .round-matches .match:nth-of-type(2n-1)::before { right: calc(100% + 30px); }
    .round1 .round-matches .match:nth-of-type(2n-1)::before { height: calc(100% + 20px); }
    .round2 .round-matches .match:nth-of-type(2n-1)::before { height: calc(100% + 108px); }
    .round3 .round-matches .match:nth-of-type(2n-1)::before { height: calc(100% + 284px); }
    .round4 .round-matches .match:nth-of-type(2n-1)::before { height: calc(100% + 636px); }
    .round5 .round-matches .match:nth-of-type(2n-1)::before { height: calc(100% + 1340px); }
    .finals-column .match::before, .finals-column .match::after,
    .round6 .match::before, .round6 .match::after { display: none; }
</style>

</head>
<body>
    <div class="container">
        <header>
            <h1>Rules of the Road March Madness</h1>
            <p class="subtitle">Who rules the Rules?</p>
        </header>

        <div class="controls">
            <button class="btn-primary" onclick="resetBracket()">Reset Bracket</button>
            <button class="btn-accent" onclick="exportBracket()">Export Data</button>
            <div class="zoom-controls">
                <button class="btn-secondary" onclick="zoomOut()">-</button>
                <span id="zoomLevel">100%</span>
                <button class="btn-secondary" onclick="zoomIn()">+</button>
            </div>
        </div>

        <div class="bracket-scroll" id="bracketScroll">
            <div class="bracket-container" id="bracketContainer">
                <div class="bracket" id="bracket"></div>
            </div>
        </div>

        <div class="champion-display" id="championDisplay">
            <h2>üèÜ N72 RULES OF THE ROAD CHAMPION üèÜ</h2>
            <div class="champion-name" id="championName"></div>
        </div>
    </div>

<script>
    let players = [
        "Patrick Vivian", "BYE", "Jonathan Sodano", "Branden Ward", "Kevin Sweetman", "William Lyons", "Geoffrey Welch", "BYE",
        "David Harland", "Robert Beurket", "Wyatt Moore", "BYE", "Blake Fontaine", "Ben Severson", "David Kane", "BYE",
        "Meredith Engel", "BYE", "Walt O'Donnell", "Tanner Blythe", "Katie Moore", "Jerry Tredo", "Gregory Christod", "BYE",
        "Alexander Kavall", "Montraye Whaley", "John O'Connell", "BYE", "Branner Astrop", "Gregory Holmes", "Ted Olson", "BYE",
        "Kevin Brunner", "BYE", "Jonathon Zitt", "Jocelyn Addeo", "David Parkhurst", "Tim Steadman", "Davis Chandler", "BYE",
        "Kellen Gray", "Robert Papili", "Alex Egbers", "BYE", "Lee McDonough", "Daniel Urbano", "Seth Bradley", "BYE",
        "Michael Shanley", "BYE", "Tony Kennedy", "Ian Johnson", "Phil Lapointe", "Michael Chesnut", "Gabriel Ptasienski", "BYE",
        "Alexander McQuain", "Jacob Vehrs", "David Carrillo", "BYE", "Steven Tommasello", "Benjamin Deforest", "Kat Hunter", "BYE"
    ];

    const rounds = [
        { name: 'FIRST ROUND', matches: 32, class: 'round1' }, { name: 'SECOND ROUND', matches: 16, class: 'round2' },
        { name: 'SWEET 16', matches: 8, class: 'round3' }, { name: 'ELITE 8', matches: 4, class: 'round4' },
        { name: 'FINAL 4', matches: 2, class: 'round5' }, { name: 'CHAMPIONSHIP', matches: 1, class: 'round6' }
    ];

    let bracketData = {};
    let baseZoom = 1.0;
    let manualZoom = 1.0;

    function zoomIn() {
        manualZoom = Math.min(manualZoom + 0.1, 2);
        updateZoom();
    }

    function zoomOut() {
        manualZoom = Math.max(manualZoom - 0.1, 0.5);
        updateZoom();
    }

    function updateZoom() {
        const container = document.getElementById('bracketContainer');
        container.style.zoom = baseZoom * manualZoom;
        document.getElementById('zoomLevel').textContent = Math.round(manualZoom * 100) + '%';
    }

    function initializeBracket() {
        bracketData = {};
        const bracket = document.getElementById('bracket');
        bracket.innerHTML = '';
        const leftHalf = document.createElement('div');
        leftHalf.className = 'bracket-half left';
        const rightHalf = document.createElement('div');
        rightHalf.className = 'bracket-half right';
        for (let roundIndex = 0; roundIndex < 5; roundIndex++) {
            const round = rounds[roundIndex];
            leftHalf.appendChild(createRound(round, roundIndex, 0, round.matches / 2));
            rightHalf.appendChild(createRound(round, roundIndex, round.matches / 2, round.matches / 2));
        }
        const finalsDiv = document.createElement('div');
        finalsDiv.className = 'finals-column';
        finalsDiv.appendChild(createRound(rounds[5], 5, 0, 1));
        bracket.appendChild(leftHalf);
        bracket.appendChild(finalsDiv);
        bracket.appendChild(rightHalf);
        attachClickHandlers();
        attachHoverHandlers();
    }

    function createRound(round, roundIndex, startMatch, matchCount) {
        const roundDiv = document.createElement('div');
        roundDiv.className = `round ${round.class}`;
        const header = document.createElement('div');
        header.className = 'round-header';
        header.textContent = round.name;
        roundDiv.appendChild(header);
        const matchesDiv = document.createElement('div');
        matchesDiv.className = 'round-matches';
        for (let i = 0; i < matchCount; i++) {
            const matchIndex = startMatch + i;
            const matchId = `r${roundIndex}-m${matchIndex}`;
            const matchDiv = document.createElement('div');
            matchDiv.className = 'match';
            matchDiv.dataset.matchId = matchId;
            if (roundIndex === 0) {
                const p1Index = matchIndex * 2, p2Index = matchIndex * 2 + 1;
                const seedPattern = [1, 16, 8, 9, 5, 12, 4, 13, 6, 11, 3, 14, 7, 10, 2, 15];
                const seed1 = seedPattern[(matchIndex % 8) * 2], seed2 = seedPattern[(matchIndex % 8) * 2 + 1];
                bracketData[matchId] = { teams: [{ name: players[p1Index], seed: seed1 }, { name: players[p2Index], seed: seed2 }], winner: null };
                matchDiv.innerHTML = `<div class="match-line"><div class="team" data-match="${matchId}" data-team="0"><span class="seed">${seed1}</span>${players[p1Index]}</div><div class="team" data-match="${matchId}" data-team="1"><span class="seed">${seed2}</span>${players[p2Index]}</div></div>`;
            } else {
                bracketData[matchId] = { teams: [{ name: 'TBD', seed: null }, { name: 'TBD', seed: null }], winner: null };
                matchDiv.innerHTML = `<div class="match-line"><div class="team" data-match="${matchId}" data-team="0"><span class="seed">-</span>TBD</div><div class="team" data-match="${matchId}" data-team="1"><span class="seed">-</span>TBD</div></div>`;
            }
            matchesDiv.appendChild(matchDiv);
        }
        roundDiv.appendChild(matchesDiv);
        return roundDiv;
    }

    function attachClickHandlers() { document.querySelectorAll('.team').forEach(team => team.addEventListener('click', function() { selectWinner(this.dataset.match, parseInt(this.dataset.team)); })); }
    function attachHoverHandlers() { document.querySelectorAll('.team').forEach(team => { team.addEventListener('mouseenter', function() { const seedElement = this.querySelector('.seed'); if (seedElement) { highlightPlayer(this.textContent.trim().substring(seedElement.textContent.trim().length).trim()); } }); team.addEventListener('mouseleave', clearHighlights); }); }

    function selectWinner(matchId, teamIndex) {
        const match = bracketData[matchId];
        const team = match.teams[teamIndex];
        if (team.name === 'TBD' || team.name === 'BYE') return;
        match.winner = teamIndex;
        const matchDiv = document.querySelector(`[data-match-id="${matchId}"]`);
        matchDiv.querySelectorAll('.team').forEach((t, idx) => { t.classList.remove('winner', 'loser'); if (idx === teamIndex) t.classList.add('winner'); else t.classList.add('loser'); });
        const [roundNum, matchNum] = matchId.substring(1).split('-m').map(Number);
        if (roundNum < rounds.length - 1) {
            const nextMatchId = `r${roundNum + 1}-m${Math.floor(matchNum / 2)}`;
            const position = matchNum % 2;
            bracketData[nextMatchId].teams[position] = { name: team.name, seed: team.seed };
            const nextTeam = document.querySelector(`[data-match-id="${nextMatchId}"] [data-team="${position}"]`);
            nextTeam.innerHTML = `<span class="seed">${team.seed || '-'}</span>${team.name}`;
        } else { showChampion(team.name); }
    }

    function showChampion(name) { document.getElementById('championName').textContent = name; document.getElementById('championDisplay').classList.add('show'); }
    function highlightPlayer(name) { if (name === 'BYE' || name === 'TBD') return; document.querySelectorAll('.team').forEach(team => { const teamName = team.textContent.trim().substring(team.querySelector('.seed').textContent.trim().length).trim(); if (teamName === name) team.classList.add('highlighted'); }); }
    function clearHighlights() { document.querySelectorAll('.team').forEach(team => team.classList.remove('highlighted')); }

    function resetBracket() {
        document.getElementById('championDisplay').classList.remove('show');
        initializeBracket();
        autoZoomToFit();
    }

    function exportBracket() {
        const data = { players, bracket: bracketData, timestamp: new Date().toISOString() };
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'tournament-bracket.json';
        a.click();
        URL.revokeObjectURL(url);
    }
    
    function autoZoomToFit() {
        setTimeout(() => {
            const scrollContainer = document.getElementById('bracketScroll');
            const bracketElement = document.getElementById('bracket');
            if (!scrollContainer || !bracketElement) return;
            const containerWidth = scrollContainer.clientWidth;
            const bracketWidth = bracketElement.scrollWidth;
            const horizontalPadding = 40;
            if (bracketWidth > containerWidth) {
                baseZoom = (containerWidth - horizontalPadding) / bracketWidth;
            } else {
                baseZoom = 1;
            }
            manualZoom = 1.0;
            updateZoom();
        }, 150);
    }

    initializeBracket();
    autoZoomToFit();
</script>

</body>
</html>
